{% assign s = section.settings %}

<div class="">
 <div class="flex flex-col md:flex-row-reverse items-center md:gap-10 justify-center max-w-[980px] mx-auto md:bg-acajou md:py-10 md:my-10">
    <div class="w-full md:w-4/12">
      {% render "image" image: s.image, class:"w-full hidden md:block max-w-[320px]" %}
      {% render "image" image: s.imageMobile, class:"w-full object-cover block md:hidden" %}
    </div>

   <div class="w-full py-10 text-center md:w-7/12 bg-acajou md:py-0">
     <h2 class="text-[34px] leading-[42px] text-sable uppercase">{{ s.title }}</h2>
     <p class="text-sable text-base mt-10 mb-2.5">{{ s.subtitle }}</p>
      <tail-popup>
        <popup-trigger class="bg-acajou mt-2.5 relative">
          {% for block in section.blocks limit: 1 %}
            <div class="flex items-center justify-center gap-2">
              <div class="mr-[12px] flex items-center border-b-2 border-sable pb-2">
               {%- if block.settings.svg != blank -%}
                 <img class="mr-2" src="{{ block.settings.svg }}" alt="{{ block.settings.svg.alt }}">
               {%- endif -%}
                <div class="uppercase text-jaune text-[28px] leading-[37px] GroteskBold font-extrabold">{{ block.settings.title }}</div>
              </div>
              <div class="relative -top-2">
                {% render 'icon-arrow-dropdown' %}
              </div>
            </div>
          {% endfor %}
        </popup-trigger>
        <popup-content class="popup top-0 py-5 px-10 md:p-5 shadow-sm bg-acajou border-[0.5px] border-jaune min-w-max">
          {% for block in section.blocks %}
            <div class="ContainerArrow flex items-center justify-start gap-2 mt-4">
              {%- if block.settings.svg != blank -%}
                <img class="ml-3" src="{{ block.settings.svg }}" alt="{{ block.settings.svg.alt }}">
              {%- endif -%}
              <a href="{{ block.settings.link }}" class="flex items-center uppercase text-jaune gap-2 text-base leading-[22px] sm:text-[28px] md:leading-[37px] GroteskBold font-extrabold">{{ block.settings.title }}
              <div class="HiddenArrow opacity-0 w-[24px]"> {%- render 'icon-circle-yellow-arrow' -%}</div>
              </a>
            </div>
          {% endfor %}
        </popup-content>

        {% if s.cta != blank %}
          <div class="mt-5 mx-auto">
            <a data-besoin href="{{ s.link }}" class="text-white {% render "button", color: "primary", size: "small" %}" href="{{ s.ctaLink }}">{{ s.cta }}</a>
          </div>
        {% endif %}
      </tail-popup>
  </div>
</div>

</div>

<style>
.ContainerArrow:hover .HiddenArrow{
    opacity: 100;
    transition-duration: 0.25s;
}
.popup {
  transition: ease-out ;
  transition-duration: 0.2s;
}
</style>
{% schema %}
  {
    "name": "Banner Needs",
    "tag": "section",
    "settings": [
      {
        "type": "image_picker",
        "id": "image",
        "label": "Image desktop"
      },
      {
        "type": "image_picker",
        "id": "imageMobile",
        "label": "Image mobile"
      },
      {
        "type": "text",
        "id": "title",
        "label": "Title",
        "default": "Trouvez les produits selon vos besoins"
      },
      {
        "type": "text",
        "id": "subtitle",
        "label": "Subtitle",
        "default": "Je suis actuellement"
      },
      {
        "type": "text",
        "id": "cta",
        "label": "Link text",
        "default": "Je d√©couvre les produits"
      },
      {
        "type": "url",
        "id": "link",
        "label": "Link"
      }
    ],
    "blocks": [
    {
      "name": "Collection",
      "type": "collection",
      "settings": [
          {
          "type": "text",
          "id": "svg",
          "label": "Paste SVG image from files"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "ALLAITANTE"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        }

      ]
     }
    ],
     "presets": [
      {
        "name": "Banner Needs",
        "category":"Collection",
        "blocks": [
        {
          "type": "collection"
        },
        {
          "type": "collection"
        },
        {
          "type": "collection"
        },
        {
          "type": "collection"
        }
      ]
      }
    ]
  }
  {% endschema %}
